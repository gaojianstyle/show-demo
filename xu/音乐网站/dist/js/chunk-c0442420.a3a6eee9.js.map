{"version":3,"sources":["webpack:///./src/views/PlayList.vue?5da5","webpack:///./src/views/PlayList.vue","webpack:///src/views/PlayList.vue","webpack:///./src/views/PlayList.vue?a964","webpack:///./src/views/PlayList.vue?ccfa"],"names":["render","_vm","this","_c","_self","class","show","staticClass","_l","tabs","t","i","hide","hash","key","icon","color","selected","on","$event","_v","_s","val","_e","directives","name","rawName","value","inputNEId","expression","attrs","domProps","target","composing","neId","updateNEId","user","userId","$route","query","id","staticStyle","inputQQ","qqId","updateQQNum","allList","playingListId","goTo","Date","getDate","length","isPlaying","Array","o","pagePlayList","item","listId","cover","trackCount","userList","favListId","heartMode","toHeartMode","mine","sub","collectPlaylist","creator","nick","playCount","numToStr","staticRenderFns","data","computed","mapGetters","recommendList","allSongs","isPersonFM","qUserList","watch","Storage","created","setTimeout","destroyed","methods","hashChange","hashs","qq","request","api","login","_p","res","getUserList","list","window","favList","randomId","truePid","pid","dispatch","handleSongs","ids","heart","playPersonFM","getPersonFM","then","updatePlayNow","component"],"mappings":"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","file":"js/chunk-c0442420.a3a6eee9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=style&index=0&id=29c1fa64&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:`playlist-container ${_vm.show && 'show'}`},[_c('div',{staticClass:\"right-select-tab-list\"},_vm._l((_vm.tabs),function(t,i){return (t.hide !== _vm.hash)?_c('div',{key:t.icon,class:`tab-item-${i} c-${t.color} ${_vm.selected === t.key && 'selected'}`,on:{\"click\":function($event){_vm.selected = t.key}}},[_c('i',{class:`iconfont icon-${t.icon}`}),_vm._v(\"\\n        \"+_vm._s(t.val)+\"\\n      \")]):_vm._e()}),0),_c('div',{staticClass:\"playlist-list hide-scroll\"},[(_vm.hash === 'playlist' && _vm.selected === '163')?_c('div',{staticClass:\"input-qq mb_20\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputNEId),expression:\"inputNEId\"}],attrs:{\"type\":\"text\",\"placeholder\":\"官网个人主页链接中可获取id\"},domProps:{\"value\":(_vm.inputNEId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputNEId=$event.target.value}}}),(_vm.inputNEId !== _vm.neId)?_c('div',{staticClass:\"update-btn\",on:{\"click\":_vm.updateNEId}},[_vm._v(\"更新\")]):_vm._e()]):_vm._e(),(!_vm.user.userId && _vm.hash === 'playlist' && !_vm.$route.query.id && !_vm.neId && _vm.selected === '163')?_c('div',{staticClass:\"text-center fc_fff ft_20\",staticStyle:{\"padding-top\":\"100px\",\"opacity\":\"0.8\",\"letter-spacing\":\"2px\"}},[_vm._v(\"\\n        登录/输入id 后可以查看个人歌单\\n      \")]):_vm._e(),(_vm.hash === 'playlist' && _vm.selected === 'qq')?_c('div',{staticClass:\"input-qq mb_20\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputQQ),expression:\"inputQQ\"}],attrs:{\"type\":\"text\",\"placeholder\":\"输入 QQ号/wxuin 吧\"},domProps:{\"value\":(_vm.inputQQ)},on:{\"input\":function($event){if($event.target.composing)return;_vm.inputQQ=$event.target.value}}}),(_vm.inputQQ !== _vm.qqId)?_c('div',{staticClass:\"update-btn\",on:{\"click\":_vm.updateQQNum}},[_vm._v(\"更新\")]):_vm._e()]):_vm._e(),(!_vm.qqId && _vm.hash === 'playlist' && _vm.selected === 'qq')?_c('div',{staticClass:\"text-center fc_fff ft_20\",staticStyle:{\"padding-top\":\"100px\",\"opacity\":\"0.8\",\"letter-spacing\":\"2px\"}},[_vm._v(\"\\n        输入 QQ号/wxuin 可查看个人歌单\\n      \")]):_vm._e(),(_vm.allList[`${_vm.selected}_daily`] && !_vm.$route.query.id)?_c('div',{class:`playlist-item ${_vm.playingListId === `${_vm.selected}_daily` && 'playing'}`,on:{\"click\":function($event){return _vm.goTo('daily', _vm.selected)}}},[_c('div',{staticClass:\"list-img\",staticStyle:{\"border\":\"1px solid #fff5\",\"text-align\":\"center\"}},[_vm._v(\"\\n          \"+_vm._s(new Date().getDate())+\"\\n        \")]),_c('span',{staticClass:\"list-name\"},[_vm._v(\"每日推荐\")]),_c('span',{staticClass:\"list-count\"},[_vm._v(_vm._s(_vm.allList[`${_vm.selected}_daily`].length))]),(_vm.playingListId === `${_vm.selected}_daily` && _vm.isPlaying)?_c('div',{staticClass:\"playing-item-bg\"},_vm._l((new Array(100)),function(o,i){return _c('div',{key:`bg-item-${i}`,class:`playing-bg-${i}`},[_c('div',{staticClass:\"bg-item-inside\"})])}),0):_vm._e()]):_vm._e(),_vm._l((_vm.pagePlayList),function(item){return _c('div',{key:`playlist-${item.id}`,class:`playlist-item ${_vm.playingListId === item.listId && 'playing'}`,on:{\"click\":function($event){return _vm.goTo(item.id)}}},[(_vm.playingListId == item.listId && _vm.isPlaying)?_c('div',{staticClass:\"playing-item-bg\"},_vm._l((new Array(100)),function(o,i){return _c('div',{key:`bg-item-${i}`,class:`playing-bg-${i}`},[_c('div',{staticClass:\"bg-item-inside\"})])}),0):_vm._e(),_c('img',{staticClass:\"list-bg-img\",attrs:{\"src\":`${item.cover}?param=50y50`}}),_c('img',{staticClass:\"list-img\",attrs:{\"src\":`${item.cover}?param=200y200`}}),_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"list-count\"},[_vm._v(_vm._s(item.trackCount))]),_c('div',{staticClass:\"bottom-text\"},[(_vm.selected === '163' && _vm.user.userId && _vm.userList['163'] && _vm.userList['163'].favListId === item.listId)?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"心动模式\",\"placement\":\"top\"}},[_c('i',{class:`iconfont icon-heart heart-btn ${_vm.heartMode && 'hearting'}`,on:{\"click\":function($event){return _vm.toHeartMode(item.listId)}}})]):_vm._e(),(_vm.userList[_vm.selected] && !_vm.userList[_vm.selected].mine[item.listId])?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.userList[_vm.selected].sub[item.listId] ? '已收藏' : '收藏',\"placement\":\"top\"}},[_c('i',{class:`collect-btn iconfont icon-${_vm.userList[_vm.selected].sub[item.listId] ? 'collected' : 'collect'}`,on:{\"click\":function($event){return _vm.collectPlaylist(item)}}})]):_vm._e(),(item.creator && item.creator.nick)?_c('span',{staticClass:\"list-creator\"},[_vm._v(\"\\n          By: \"),_c('a',[_vm._v(_vm._s(item.creator.nick))]),(item.playCount)?_c('span',{staticClass:\"pl_20\"},[_c('i',{staticClass:\"iconfont icon-yinyue\"}),_vm._v(\": \"+_vm._s(_vm.numToStr(item.playCount)))]):_vm._e()]):_vm._e()],1)])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"`playlist-container ${show && 'show'}`\">\n\n    <div class=\"right-select-tab-list\">\n      <div\n        :class=\"`tab-item-${i} c-${t.color} ${selected === t.key && 'selected'}`\"\n        v-for=\"(t, i) in tabs\"\n        v-if=\"t.hide !== hash\"\n        :key=\"t.icon\"\n        @click=\"selected = t.key\"\n      >\n        <i :class=\"`iconfont icon-${t.icon}`\" />\n        {{t.val}}\n      </div>\n    </div>\n\n    <div class=\"playlist-list hide-scroll\">\n      <div class=\"input-qq mb_20\" v-if=\"hash === 'playlist' && selected === '163'\">\n        <input type=\"text\" placeholder=\"官网个人主页链接中可获取id\" v-model=\"inputNEId\" />\n        <div class=\"update-btn\" v-if=\"inputNEId !== neId\" @click=\"updateNEId\">更新</div>\n      </div>\n      <div v-if=\"!user.userId && hash === 'playlist' && !$route.query.id && !neId && selected === '163'\" class=\"text-center fc_fff ft_20\" style=\"padding-top: 100px;opacity: 0.8;letter-spacing: 2px;\">\n        登录/输入id 后可以查看个人歌单\n      </div>\n      <div class=\"input-qq mb_20\" v-if=\"hash === 'playlist' && selected === 'qq'\">\n        <input type=\"text\" placeholder=\"输入 QQ号/wxuin 吧\" v-model=\"inputQQ\" />\n        <div class=\"update-btn\" v-if=\"inputQQ !== qqId\" @click=\"updateQQNum\">更新</div>\n      </div>\n      <div v-if=\"!qqId && hash === 'playlist' && selected === 'qq'\" class=\"text-center fc_fff ft_20\" style=\"padding-top: 100px;opacity: 0.8;letter-spacing: 2px;\">\n        输入 QQ号/wxuin 可查看个人歌单\n      </div>\n\n      <!-- 日推-->\n      <div\n        v-if=\"allList[`${selected}_daily`] && !$route.query.id\"\n        :class=\"`playlist-item ${playingListId === `${selected}_daily` && 'playing'}`\"\n        @click=\"goTo('daily', selected)\"\n      >\n        <div class=\"list-img\" style=\"border: 1px solid #fff5;text-align: center;\">\n          {{new Date().getDate()}}\n        </div>\n        <span class=\"list-name\">每日推荐</span>\n        <span class=\"list-count\">{{allList[`${selected}_daily`].length}}</span>\n        <div v-if=\"playingListId === `${selected}_daily` && isPlaying\" class=\"playing-item-bg\">\n          <div v-for=\"(o, i) in new Array(100)\" :key=\"`bg-item-${i}`\" :class=\"`playing-bg-${i}`\">\n            <div class=\"bg-item-inside\"></div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 私人 FM -->\n<!--      <div-->\n<!--        v-if=\"selected === '163' && !$route.query.id\"-->\n<!--        :class=\"`playlist-item ${playingListId === 'daily' && 'playing'}`\"-->\n<!--        @click=\"playPersonFM\"-->\n<!--      >-->\n<!--        <div class=\"list-img\" style=\"border: 1px solid #fff5;text-align: center;\">-->\n<!--          FM-->\n<!--        </div>-->\n<!--        <span class=\"list-name\">私人FM</span>-->\n<!--        &lt;!&ndash;<span class=\"list-count\">{{allList.daily.length}}</span>&ndash;&gt;-->\n<!--        <div v-if=\"isPersonFM && isPlaying\" class=\"playing-item-bg\">-->\n<!--          <div v-for=\"(o, i) in new Array(100)\" :key=\"`bg-item-${i}`\" :class=\"`playing-bg-${i}`\">-->\n<!--            <div class=\"bg-item-inside\"></div>-->\n<!--          </div>-->\n<!--        </div>-->\n<!--      </div>-->\n      <!-- 歌单列表 -->\n      <div\n        :class=\"`playlist-item ${playingListId === item.listId && 'playing'}`\"\n        v-for=\"item in pagePlayList\"\n        :key=\"`playlist-${item.id}`\"\n        @click=\"goTo(item.id)\"\n      >\n        <div v-if=\"playingListId == item.listId && isPlaying\" class=\"playing-item-bg\">\n          <div v-for=\"(o, i) in new Array(100)\" :key=\"`bg-item-${i}`\" :class=\"`playing-bg-${i}`\">\n            <div class=\"bg-item-inside\"></div>\n          </div>\n        </div>\n        <img :src=\"`${item.cover}?param=50y50`\" class=\"list-bg-img\" />\n        <img :src=\"`${item.cover}?param=200y200`\" class=\"list-img\" />\n        <span class=\"list-name\">{{item.name}}</span>\n        <span class=\"list-count\">{{item.trackCount}}</span>\n        <div class=\"bottom-text\">\n          <el-tooltip\n            class=\"item\"\n            effect=\"dark\"\n            content=\"心动模式\"\n            placement=\"top\"\n            v-if=\"selected === '163' && user.userId && userList['163'] && userList['163'].favListId === item.listId\"\n          >\n            <i @click=\"toHeartMode(item.listId)\" :class=\"`iconfont icon-heart heart-btn ${heartMode && 'hearting'}`\" />\n          </el-tooltip>\n          <el-tooltip\n            v-if=\"userList[selected] && !userList[selected].mine[item.listId]\"\n            class=\"item\"\n            effect=\"dark\"\n            :content=\"userList[selected].sub[item.listId] ? '已收藏' : '收藏'\"\n            placement=\"top\"\n          >\n            <i @click=\"collectPlaylist(item)\" :class=\"`collect-btn iconfont icon-${userList[selected].sub[item.listId] ? 'collected' : 'collect'}`\" />\n          </el-tooltip>\n          <span class=\"list-creator\" v-if=\"item.creator && item.creator.nick\">\n          By: <a>{{item.creator.nick}}</a>\n          <span class=\"pl_20\" v-if=\"item.playCount\"><i class=\"iconfont icon-yinyue\" />: {{numToStr(item.playCount)}}</span>\n        </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex';\n  import {getQueryFromUrl, numToStr} from \"../assets/utils/stringHelper\";\n  import request, {\n    handleSongs,\n    getPersonFM,\n    collectPlaylist,\n    getUserList\n  } from '../assets/utils/request';\n  import Storage from \"../assets/utils/Storage\";\n  export default {\n    name: \"PlayList\",\n    data() {\n      return {\n        show: false,\n        hash: '',\n        pagePlayList: [],\n        tabs: [\n          {\n            icon: '163',\n            key: '163',\n            color: 'red',\n            val: '网易云'\n          },\n          {\n            icon: 'qq',\n            key: 'qq',\n            color: 'green',\n            val: '企鹅'\n          },\n          // {\n          //   icon: 'migu',\n          //   key: 'migu',\n          //   color: 'yellow',\n          //   hide: 'playlist',\n          //   val: '咪咕',\n          // },\n        ],\n        selected: getQueryFromUrl('from') || Storage.get('playlist_from') || '163',\n        inputQQ: Storage.get('qqId'),\n        qqId: Storage.get('qqId'),\n        inputNEId: Storage.get('neId'),\n        neId: Storage.get('neId'),\n      };\n    },\n    computed: {\n      ...mapGetters({\n        userList: 'getUserList',\n        allList: 'getAllList',\n        recommendList: 'getRecommendList',\n        user: 'getUser',\n        playingListId: 'getPlayingListId',\n        heartMode: 'isHearMode',\n        allSongs: 'getAllSongs',\n        isPlaying: 'isPlaying',\n        isPersonFM: 'isPersonFM',\n        qUserList: 'getQUserList',\n      })\n    },\n    watch: {\n      $route() {\n        this.hashChange();\n      },\n      selected(v) {\n        Storage.set('playlist_from', v);\n        this.hashChange();\n      },\n      recommendList() {\n        this.hashChange();\n      },\n      userList(v) {\n        const { selected } = this;\n        if (v[selected] && !getQueryFromUrl('id')) {\n          this.pagePlayList = v[selected].list.map((id) => v[selected].obj[id]);\n        }\n      }\n    },\n    created() {\n      this.hashChange();\n      setTimeout(() => this.show = true);\n      this.selected = getQueryFromUrl('from') || Storage.get('playlist_from') || '163';\n      if (document.location.hash.indexOf('playlist') > -1 && this.selected === 'migu') {\n        this.selected = '163';\n      }\n    },\n    destroyed() {\n      this.show = false;\n    },\n    methods: {\n      async hashChange() {\n        const hashs = ['playlist', 'recommend'];\n        this.hash = hashs.find((h) => document.location.hash.indexOf(h) > -1);\n        const { selected, hash, user, inputQQ, neId } = this;\n        this.pagePlayList = [];\n        let res, id = getQueryFromUrl('id') || { 163: user.userId || neId, qq: inputQQ }[selected];\n        switch (hash) {\n          case 'recommend':\n            res = await request({\n              api: 'RECOMMEND_PLAYLIST',\n              data: { login: Number(Boolean(user.userId)), _p: selected }\n            });\n            this.pagePlayList = res.data;\n            break;\n          case 'playlist':\n            if (selected === 'migu') {\n              return this.selected = '163';\n            }\n            if (id) {\n              const { list } = await getUserList(id, this.selected);\n              this.pagePlayList = list;\n            }\n\n        }\n      },\n      goTo(id, platform = this.selected) {\n        window.location = `#/playlist/detail?id=${id}&from=${platform}`;\n      },\n      async toHeartMode(pid) {\n        window.event.stopPropagation();\n        const { userList, allList, allSongs, user } = this;\n        if (!user.userId) {\n          return this.$message.warning('登录后才可以开启心动模式');\n        }\n        const { favListId } = userList['163'];\n        const favList = (allList[favListId] || []).length > 0 ? allList[favListId] : allList['163_daily'];\n        const randomId = favList[Math.floor(Math.random(favList.length))].replace('163_', '');\n        const truePid = pid.split('_')[1];\n        const { data } = await request({\n          api: 'GET_HEART_MODE',\n          data: {\n            pid: truePid,\n            id: randomId,\n            _p: '163',\n          }\n        })\n        const { dispatch } = this.$store;\n        const ids = await handleSongs(data);\n        dispatch('updatePlayNow', this.allSongs[ids[0]]);\n        dispatch('updatePlayingList', { list: ids, listId: pid, heart: true });\n        dispatch('updatePlayingStatus', true);\n        this.$message.success('心动模式启动～');\n      },\n      playPersonFM() {\n        const { dispatch } = this.$store;\n        const { isPersonFM, allSongs } = this;\n        const updatePlayNow = (id) => {\n          if (this.allSongs[id]) {\n            dispatch('updatePlayNow', allSongs[id]);\n          } else {\n            setTimeout(() => updatePlayNow(id), 100);\n          }\n        };\n        if (!isPersonFM) {\n          getPersonFM()\n            .then((songs) => {\n              const ids = songs.map((s) => s.id);\n              dispatch('setPersonFM', ids);\n              updatePlayNow(ids[0]);\n            })\n        }\n      },\n      updateQQNum() {\n        const { inputQQ } = this;\n        this.qqId = inputQQ;\n        Storage.set('qqId', inputQQ);\n        this.hashChange();\n      },\n      updateNEId() {\n        const { inputNEId } = this;\n        this.neId = inputNEId;\n        Storage.set('neId', inputNEId);\n        this.hashChange();\n      },\n\n      numToStr,\n\n      collectPlaylist,\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .playlist-container {\n    width: 40%;\n    display: inline-block;\n    vertical-align: top;\n    height: (calc(100vh - 100px));\n    min-height: 580px;\n    position: absolute;\n    left: 60%;\n    transform: translate(100%);\n    opacity: 0;\n    top: 20px;\n    transition: 0.5s;\n\n    &.show {\n      transform: translate(0);\n      opacity: 1;\n    }\n\n    .playlist-list {\n      background: #0003;\n      border-left: 1px solid #fffc;\n      padding-left: 20px;\n      height: 100%;\n      overflow-y: auto;\n\n      .input-qq {\n        margin-top: 20px;\n\n        input {\n          display: inline-block;\n          vertical-align: top;\n          background: transparent;\n          outline: none;\n          border: none;\n          color: #fffa;\n          width: 300px;\n          font-size: 22px;\n          border-bottom: 1px solid #fff3;\n          \n          &::placeholder {\n            color: #fff3;\n          }\n        }\n\n        .update-btn {\n          display: inline-block;\n          vertical-align: top;\n          border: 1px solid #fff8;\n          padding: 2px 12px;\n          border-radius: 4px;\n          cursor: pointer;\n          color: #fff8;\n          margin-left: 20px;\n          transition: 0.3s;\n          \n          &:hover {\n            color: #fffa;\n            border-color: #fffa;\n          }\n        }\n        \n      }\n\n      .playlist-item {\n        position: relative;\n        height: 80px;\n        overflow: hidden;\n        padding: 10px;\n        opacity: 0.8;\n        transition: 0.4s;\n        box-shadow: 0 0 0 #0003;\n\n        .playing-item-bg {\n          @for $i from 0 through 100 {\n            $r4: random(2);\n\n            .playing-bg-#{$i} {\n              width: 0.8%;\n              position: absolute;\n              bottom: 0;\n              left: percentage($i / 100);\n              border-top: 3px solid #409EFF;\n              overflow: hidden;\n              opacity: 0.3;\n              height: 45px;\n              transform-origin: bottom;\n              animation: p-b-#{$i} #{$r4 / 3}s infinite linear;\n              border-radius: 5px 5px 0 0;\n\n              .bg-item-inside {\n                height: 60px;\n                width: 100%;\n                background: linear-gradient(to top, #409EFF, #67C23A88, #E6A23C33, #E6A23C00);\n                position: absolute;\n                bottom: 0;\n              }\n            }\n\n            @keyframes p-b-#{$i} {\n              from, to {\n                transform: scaleY(#{random()});\n              }\n              20% {\n                transform: scaleY(#{random()});\n              }\n              40% {\n                transform: scaleY(#{random()});\n              }\n              60% {\n                transform: scaleY(#{random()});\n              }\n              80% {\n                transform: scaleY(#{random()});\n              }\n            }\n          }\n        }\n\n        .list-bg-img {\n          position: absolute;\n          z-index: 0;\n          opacity: 0.2;\n          filter: blur(30px);\n          width: 200px;\n          height: 200px;\n          top: -60px;\n          transition: 0.3s;\n        }\n        .bottom-text {\n          position: absolute;\n          bottom: 20px;\n          color: #fff3;\n          font-weight: bold;\n          cursor: pointer;\n          font-size: 20px;\n          transition: 0.3s;\n          left: 110px;\n\n          .collect-btn, .heart-btn {\n            margin-right: 15px;\n            &.heart-btn {\n\n              &.hearting {\n                color: #F56C6C88;\n                animation: hearting 1.4s infinite;\n\n                @keyframes hearting {\n                  from, to, 40%, 50%, 60%, 70% {\n                    transform: scale(1);\n                  }\n                  45%, 65% {\n                    transform: scale(1.2);\n                  }\n                }\n              }\n            }\n          }\n        }\n        .list-creator {\n          font-size: 14px;\n          color: #fff5;\n          transition: 0.3s;\n\n          a {\n            color: #fff5;\n            text-decoration: underline;\n            transition: 0.3s;\n          }\n        }\n        .list-img {\n          border-radius: 3px;\n          display: inline-block;\n          transition: 0.3s;\n          position: absolute;\n          transform: rotate(0) scale(0.38) translate(-138px, -156px);\n          top: 10px;\n          left: 10px;\n          width: 200px;\n          height: 200px;\n          font-size: 100px;\n          line-height: 200px;\n          font-weight: bold;\n          color: #fff5;\n        }\n        .list-name {\n          display: inline-block;\n          vertical-align: top;\n          font-size: 20px;\n          color: #fffc;\n          margin-left: 20px;\n          transition: 0.3s;\n          padding-left: 70px;\n          white-space: nowrap;\n        }\n        .list-count {\n          position: absolute;\n          right: 10px;\n          font-weight: bold;\n          font-size: 44px;\n          width: 80px;\n          text-align: right;\n          color: #fff4;\n          transform: rotate(0) translate(0, 20px);\n          transform-origin: bottom left;\n          transition: 0.3s;\n        }\n\n        &.playing {\n          .list-count {\n            color: #409EFF88;\n          }\n        }\n\n        &:hover {\n          opacity: 1;\n          box-shadow: 0 4px 20px #0004;\n          \n          .bottom-text {\n            color: #fffc;\n\n            .hearting {\n              color: #F56C6C;\n            }\n          }\n          \n          .list-creator {\n            transform: translate(10px);\n            color: #fffc;\n            \n            a {\n              color: #fffc;\n            }\n          }\n\n          .list-count {\n            transform: rotate(-90deg) translate(-20px, 150%);\n            text-align: center;\n          }\n\n          .list-name {\n            transform: scale(1.2) translate(15px);\n          }\n          .list-img {\n            transform: rotate(-30deg) scale(0.7) translate(-70px, -150px);\n          }\n        }\n      }\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayList.vue?vue&type=template&id=29c1fa64&scoped=true&\"\nimport script from \"./PlayList.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayList.vue?vue&type=style&index=0&id=29c1fa64&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29c1fa64\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}