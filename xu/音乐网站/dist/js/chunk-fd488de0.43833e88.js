(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd488de0"],{"0e95":function(t,e,n){"use strict";n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",{class:"list-songs ".concat(t.className||"")},[e("div",[t._l(t.songs,(function(n,a){return e("div",{key:n,class:"song-item ".concat(t.allSongs[n].url?"hasUrl":"disabled"),on:{click:function(e){return t.playMusic({id:n,arr:t.songs})}}},[t.showIndex?e("div",{staticClass:"song-order"},[t._v(t._s(a+1))]):t._e(),t.favSongMap[t.allSongs[n].platform]&&t.favSongMap[t.allSongs[n].platform][n]?e("div",{staticClass:"liked-item"}):t._e(),t.playNow.aId===n?e("div",{staticClass:"playing-bg",style:"width: ".concat(100*t.playingPercent,"%")},[e("div",{staticClass:"wave-bg"}),e("div",{staticClass:"wave-bg2"})]):t._e(),t.countMap&&t.countMap[n]?e("div",{staticClass:"count-bg",style:"width: ".concat(t.countMap[n].score,"%")}):t._e(),t.showCover?e("div",{staticClass:"song-album-img",style:"background-image: url('".concat(t.allSongs[n].al&&"".concat(t.allSongs[n].al.picUrl,"?param=50y50"),"')")}):t._e(),e("div",{staticClass:"song-name"},[t._v("\n        "+t._s(t.allSongs[n].name)+"\n\n        "),t.showCover&&t.allSongs[n].mvId?e("a",{staticClass:"inline-block ml_5 iconfont icon-mv",staticStyle:{"font-size":"14px","font-weight":"100"},attrs:{href:t.changeUrlQuery({id:t.allSongs[n].mvId,from:t.allSongs[n].platform},"#/mv",!1)}}):t._e()]),e("div",[e("div",{staticClass:"song-ar"},[!t.showCover&&t.allSongs[n].mvId?e("a",{staticClass:"inline-block mr_5 iconfont icon-mv",attrs:{href:t.changeUrlQuery({id:t.allSongs[n].mvId,from:t.allSongs[n].platform},"#/mv",!1)}}):t._e(),t._v("\n          "+t._s(t.allSongs[n].ar.map((function(t){return t.name})).join("/"))+"\n        ")]),e("div",{staticClass:"song-operation"},[t.favSongMap[t.allSongs[n].platform]?e("i",{class:"operation-icon operation-icon-1 iconfont icon-".concat(Boolean(t.favSongMap[t.allSongs[n].platform][n])?"like":"unlike"),on:{click:function(e){return t.likeMusic(n)}}}):t._e(),"migu"!==t.allSongs[n].platform?e("i",{staticClass:"operation-icon operation-icon-2 iconfont icon-add",on:{click:function(e){return t.playlistTracks(n,"add","ADD_SONG_2_LIST")}}}):t._e(),t.allSongs[n].url&&t.playingList.map[n]?e("i",{staticClass:"operation-icon operation-icon-3 iconfont icon-list-reomve",on:{click:function(e){return t.removePlaying(n)}}}):t._e(),t.allSongs[n].url&&!t.playingList.map[n]?e("i",{staticClass:"operation-icon operation-icon-3 iconfont icon-list-add",on:{click:function(e){return t.addPlaying(n)}}}):t._e(),t.allSongs[n].url?e("i",{staticClass:"operation-icon operation-icon-4 iconfont icon-download",on:{click:function(e){return t.download(n)}}}):t._e(),t.countMap&&t.countMap[n]?e("span",{staticClass:"played-count-num"},[t._v(t._s(t.countMap[n].count))]):t._e()])])])})),0===(t.songs||[]).length?e("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥歌曲哟"))]):t._e()],2),(t.songs||[]).length?e("div",{staticClass:"fix-play-btn",on:{click:function(e){return t.playList(t.songs)}}},[e("i",{staticClass:"iconfont icon-play"}),e("span",{staticClass:"btn-txt"},[t._v("播放列表")])]):t._e()])},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),i=n("2f62"),r=n("ceb6"),c=n("f503"),l=n("0828");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={name:"song",props:{songs:Array,className:String,emptyText:String,countMap:Object,showIndex:Boolean,showCover:Boolean},computed:p({},Object(i["b"])({allSongs:"getAllSongs",playNow:"getPlaying",playingPercent:"getPlayingPercent",favSongMap:"getFavSongMap",playingList:"getPlayingList"})),methods:p(p({},c["a"]),{},{likeMusic:r["m"],download:r["e"],changeUrlQuery:l["a"],playlistTracks:function(t,e,n,a){window.event.stopPropagation(),this.$store.dispatch("setOperation",{data:{tracks:t,op:e},type:n,platform:a})}})},f=g,d=(n("a883"),n("2877")),m=Object(d["a"])(f,a,s,!1,null,null,null);e["a"]=m.exports},"1cb0":function(t,e,n){},"2b09":function(t,e,n){"use strict";n("1cb0")},"2d3b":function(t,e,n){"use strict";n.r(e);n("673e"),n("7f7f"),n("386d");var a=function(){var t=this,e=t._self._c;return e("div",{class:"search-page-container ".concat(t.show&&"show"),on:{scroll:t.onScroll}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"search-input mt_15",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),e("div",{staticClass:"platform-select"},t._l(["163","qq"],(function(n){return e("i",{class:"iconfont icon-".concat(n," ").concat(t.platform===n&&"active"),on:{click:function(e){return t.search("platform",n)}}})})),0),e("div",{staticClass:"ml_10 mt_10 mb_20"},t._l(t.typeList,(function(n){return"163"===t.platform||n.hasQQ?e("div",{key:"type-".concat(n.val),class:"search-type ".concat(n.color," ").concat(t.searchQuery.type===n.val&&"selected"),on:{click:function(e){return t.search("type",n.val)}}},[e("i",{class:"iconfont icon-".concat(n.icon)}),t._v("\n        "+t._s(n.text)+"\n      ")]):t._e()})),0),0===t.searchQuery.type?e("SongList",{attrs:{"class-name":"search-page",showIndex:"",showCover:"","empty-text":"空空如也！",songs:t.searchQuery.songs||[]}}):t._e(),2===t.searchQuery.type?e("AlbumList",{attrs:{"empty-text":"空空如也！",albums:t.searchQuery.albums}}):t._e(),3===t.searchQuery.type?e("SingerList",{attrs:{"empty-text":"空空如也！",singers:t.searchQuery.singers}}):t._e(),1===t.searchQuery.type?e("div",[t.searchQuery.playlists&&t.searchQuery.playlists.length>0?e("div",{staticClass:"playlist-list result-list"},t._l(t.searchQuery.playlists,(function(n){return e("div",{staticClass:"playlist-item",on:{click:function(e){return t.changeUrlQuery({id:n.id,from:n.platform},"#/playlist/detail")}}},[e("img",{staticClass:"playlist-img",attrs:{src:"".concat(n.cover,"?param=120y120")}}),e("div",{staticClass:"playlist-name"},[t._v(t._s(n.name))]),e("div",{staticClass:"playlist-author"},[t.userList[n.platform]&&!t.userList[n.platform].mine["".concat(n.platform,"_").concat(n.id)]?e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n.subscribed?"已收藏":"收藏",placement:"top"}},[e("i",{class:"inline-block mr_10 iconfont icon-".concat(t.userList[n.platform].sub["".concat(n.platform,"_").concat(n.id)]?"collected":"collect"),on:{click:function(e){return t.collectPlaylist(n)}}})]):t._e(),n.creator&&n.creator.nick?e("span",[t._v("By: "+t._s(n.creator.nick))]):t._e(),e("span",{staticClass:"pl_20"},[e("i",{staticClass:"iconfont icon-yinyue"}),t._v(": "+t._s(t.numToStr(n.playCount||0)))])],1),e("div",{staticClass:"playlist-trackcount"},[t._v(t._s(n.trackCount))])])})),0):t._e(),t.searchQuery.playlists&&0!==t.searchQuery.playlists.length?t._e():e("div",{staticClass:"empty-status"},[t._v("\n        空空如也！\n      ")])]):t._e()],1)},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("1da1")),i=n("ade3"),r=n("ceb6"),c=n("0828"),l=n("2f62"),u=(n("f503"),n("1157")),p=n.n(u),g=n("aa67"),f=n("ec3d"),d=n("7097"),m=n("0e95");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"Search",components:{AlbumList:f["a"],SingerList:d["a"],SongList:m["a"]},data:function(){return{show:!1,keywords:"",typeList:[{val:0,color:"red",icon:"song",text:"歌曲",hasQQ:!0},{val:2,color:"blue",icon:"album",text:"专辑",hasQQ:!0},{val:3,color:"green",icon:"singer",text:"歌手",hasQQ:!0},{val:1,color:"yellow",icon:"playlist",text:"歌单",hasQQ:!0}],platform:"163",qqId:g["a"].get("qqId"),loading:!1}},computed:v({},Object(l["b"])({searchQuery:"getSearch",allSongs:"getAllSongs",playNow:"getPlaying",playingPercent:"getPlayingPercent",allList:"getAllList",userList:"getUserList",qUserList:"getQUserList",favSongMap:"getFavSongMap",user:"getUser"})),watch:{keywords:function(t){var e=this,n=function(){setTimeout((function(){t===e.keywords&&e.search("keywords",t)}),500)};n()}},created:function(){var t=this;setTimeout((function(){return t.show=!0}),1),this.platform=this.searchQuery.platform,this.keywords=this.searchQuery.keywords},beforeDestroy:function(){this.show=!1},methods:{search:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.searchQuery,s=this.loading,!s){t.next=3;break}return t.abrupt("return");case 3:return this.loading=!0,a.pageNo=1,a[e]=n,this.platform=a.platform,t.next=9,Object(r["p"])(a);case 9:this.loading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),playMusic:function(t){var e=this.$store.dispatch,n=this.allSongs,a=this.searchQuery,s=n[t];s.url&&(e("updatePlayNow",s),e("updatePlayingList",{list:a.songs}),e("updatePlayingStatus",!0))},onScroll:function(){var t=this.searchQuery,e=t.pageNo,n=t.total,a=t.loading,s=p()(".search-page-container"),o=s.height(),i=s.get(0).scrollHeight,r=s.scrollTop();i-o-r<150&&30*e<n&&!a&&this.search("pageNo",e+1)},likeMusic:r["m"],collectPlaylist:r["b"],changeUrlQuery:c["a"],playlistTracks:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"163";window.event.stopPropagation(),this.$store.dispatch("setOperation",{data:{tracks:t,op:e},type:n,platform:a})},goTo:function(t){window.location=t},download:r["e"],numToStr:c["d"]}},b=h,_=(n("f3fd"),n("2877")),w=Object(_["a"])(b,a,s,!1,null,"03419bad",null);e["default"]=w.exports},7097:function(t,e,n){"use strict";n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",{class:"list-singers ".concat(t.className||"")},[t._l(t.singers,(function(n){return e("div",{staticClass:"singer-item",on:{click:function(e){return t.goTo(n)}}},[e("img",{staticClass:"singer-img",attrs:{src:"".concat(n.picUrl,"?param=120y120")}}),e("div",{staticClass:"singer-name"},[t._v(t._s(n.name))])])})),0===(t.singers||[]).length?e("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥歌手哟"))]):t._e()],2)},s=[],o=n("0828"),i={name:"singer",props:{singers:Array,emptyText:String,className:String},methods:{goTo:function(t){var e=t.id,n=t.mid,a=t.platform;Object(o["a"])({id:e,mid:n,from:a},"#/singer")}}},r=i,c=(n("2b09"),n("2877")),l=Object(c["a"])(r,a,s,!1,null,null,null);e["a"]=l.exports},8736:function(t,e,n){},a883:function(t,e,n){"use strict";n("a88e")},a88e:function(t,e,n){},b575:function(t,e,n){"use strict";n("d983")},d983:function(t,e,n){},ec3d:function(t,e,n){"use strict";n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",{class:"list-albums ".concat(t.className||"")},[t._l(t.albums,(function(n){return e("div",{key:n.id,staticClass:"album-item"},[e("div",{staticClass:"album-img-container pointer",on:{click:function(e){return t.goTo(n)}}},[e("img",{attrs:{src:"".concat(n.picUrl,"?param=200y200")}})]),e("div",{staticClass:"album-name pointer",on:{click:function(e){return t.goTo(n)}}},[t._v(t._s(n.name))])])})),0===(t.albums||[]).length?e("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥专辑哟"))]):t._e()],2)},s=[],o=n("0828"),i={name:"album",props:{albums:Array,className:String,emptyText:String},methods:{goTo:function(t){var e=t.id,n=t.mid,a=t.platform;Object(o["a"])({id:e,mid:n,from:a},"#/album")}}},r=i,c=(n("b575"),n("2877")),l=Object(c["a"])(r,a,s,!1,null,null,null);e["a"]=l.exports},f3fd:function(t,e,n){"use strict";n("8736")}}]);
//# sourceMappingURL=chunk-fd488de0.43833e88.js.map