{"version":3,"sources":["webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?884b","webpack:///./src/components/login/login.vue"],"names":["login","data","modalContent","inStatus","modalzIndex","loadingShow","ruleForm","account","passwd","components","MoutaiLoading","moutai_loading","Modal","modal","methods","modalIsShow","this","modelIsHide","_this","setTimeout","isConfirmCancel","status","loginSubmit","_this2","$http","post","then","res","errcode","config","sessionStorage","setItem","token","image","currentRoutePath","getItem","vm","$emit","$router","push","path","errmsg","login_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","to","tag","_v","_m","directives","name","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","$set","ref","click","_e","selectConfirmCancel","staticRenderFns","for","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.a28ac6450b838a122b69.js","sourcesContent":["<template>\n  <div class=\"login\">\n    <header class=\"login-header\">\n      <router-link to=\"/home\" tag=\"div\" class=\"logo-icon\">\n      </router-link>\n    </header>\n    <section class=\"login-container\">\n      <form class=\"loginform\">\n        <div class=\"form-group\">\n          <div class=\"login-code\">\n            <span>\n              <i class=\"code-icon\"></i>\n              <span>验证码登录</span>\n            </span>\n          </div>\n          <div class=\"input-group user-input\">\n            <label for=\"userIdInput\" class=\"input-group-addon\">\n              <i class=\"user-icon\"></i>\n            </label>\n            <input type=\"text\" placeholder=\"邮箱/已验证手机号\" class=\"form-control\" v-model=\"ruleForm.account\">\n          </div>\n          <div class=\"input-group\">\n            <label for=\"passwordInput\" class=\"input-group-addon\">\n              <i class=\"pass-icon\"></i>\n            </label>\n            <input type=\"password\" placeholder=\"密码\" class=\"form-control\" v-model=\"ruleForm.passwd\">\n          </div>\n          <div class=\"login-forget\">\n            <router-link to=\"\">\n              <i class=\"forget-icon\"></i>\n              <span>忘记密码？</span>\n            </router-link>\n          </div>\n          <button class=\"btn btn-submit login-submit\" type=\"button\" @click=\"loginSubmit\" ref=\"loginSubmit\">\n            <span v-if=\"loadingShow\">登&nbsp;&nbsp;录</span>\n            <moutai-loading v-if=\"!loadingShow\"></moutai-loading>\n          </button>\n        </div>\n      </form>\n    </section>\n    <div class=\"login-register\">\n      还没有账号？\n      <router-link to=\"\">\n        立即注册\n      </router-link>\n    </div>\n    <!-- 提示框 -->\n    <modal :modalContent=\"modalContent\" :inStatus=\"inStatus\" \n      :modalzIndex=\"modalzIndex\" \n      @selectConfirmCancel=\"isConfirmCancel\"\n    >\n    </modal>\n  </div>\n</template>\n\n<script>\nimport Modal from \"base/modal/modal\";\nimport MoutaiLoading from \"base/moutai-loading/moutai-loading\";\nimport { ERR_OK } from \"api/config\";\nimport { vm } from \"common/js/vm\";\nexport default {\n  data() {\n    return {\n      modalContent: \"\",\n      inStatus: 1,\n      modalzIndex: -1,\n      loadingShow: true,\n      ruleForm: {\n        account: \"\", //用户名\n        passwd: \"\" //密码\n      }\n    };\n  },\n  components: {\n    MoutaiLoading,\n    Modal\n  },\n  methods: {\n    /* 提示框显示 */\n    modalIsShow(modalContent) {\n      this.inStatus = 0;\n      this.modalzIndex = 1050;\n      this.modalContent = modalContent;\n    },\n    /* 提示框隐藏 */\n    modelIsHide() {\n      this.inStatus = 1;\n      this.loadingShow = true;\n      /* 动画的事件是300毫秒，所以要用300毫秒的延时来执行隐藏，不然没有动画效果 */\n      setTimeout(() => {\n        this.modalzIndex = -1;\n      }, 300);\n    },\n    /* 提示框确认与取消按钮 */\n    isConfirmCancel(status) {\n      this.modelIsHide();\n    },\n    /* 登录 */\n    loginSubmit() {\n      this.loadingShow = false;\n      let url = \"/user/im_login\";\n      this.$http.post(url, this.ruleForm).then(res => {\n        if (res.data.errcode === ERR_OK) {\n          /* 保存用户信息 */\n          sessionStorage.setItem(\"token\", res.data.data.token);\n          sessionStorage.setItem(\"userImg\", res.data.data.image);\n          sessionStorage.setItem(\"islogin\", true);\n          let currentRoutePath = sessionStorage.getItem(\"currentRoutePath\");\n          if (!currentRoutePath) {\n            currentRoutePath = \"/home\";\n          }\n          vm.$emit(\"changeshow\");\n          setTimeout(() => {\n            this.$router.push({ path: currentRoutePath });\n            this.loadingShow = true;\n          }, 300);\n        } else {\n          this.modalIsShow(res.data.errmsg);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.login {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  min-height: 12rem;\n  overflow: auto;\n  background: url('./login-bg@2X.jpg');\n  background-size: 100% 100%;\n  text-align: center;\n\n  .login-header {\n    display: inline-block;\n    padding-top: 1rem;\n    width: 100%;\n\n    .logo-icon {\n      background-color: transparent;\n      background-image: url('./login-logo@2X.png');\n      background-size: 2.81rem 1.24rem;\n      background-repeat: no-repeat;\n      background-position: 50%;\n      display: inline-block;\n      height: 1.24rem;\n      width: 100%;\n      vertical-align: middle;\n      transition: all 0.4s;\n    }\n  }\n\n  .login-container {\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 1rem;\n    padding: 0.8rem 0.5rem;\n    width: 86vw;\n    background-color: hsla(0, 0%, 100%, 0.8);\n    box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\n\n    .login-code {\n      margin-bottom: 0.31rem;\n      text-align: right;\n      font-size: 0.24rem;\n      line-height: 0.15rem;\n\n      i {\n        margin-right: 0.08rem;\n      }\n\n      .code-icon {\n        background: transparent url('./login-phone@2X.png') 50% no-repeat;\n        background-color: transparent;\n        background-size: 0.26rem;\n        display: inline-block;\n        height: 0.3rem;\n        width: 0.3rem;\n        vertical-align: middle;\n        transition: all 0.4s;\n      }\n    }\n\n    .input-group {\n      position: relative;\n      display: table;\n      border-collapse: separate;\n    }\n\n    .input-group {\n      width: 5.6rem;\n      line-height: 0.88rem;\n      color: rgba(0, 0, 0, 0.4);\n    }\n\n    .input-group {\n      width: 100%;\n\n      .input-group-addon {\n        position: absolute;\n        left: 0;\n        top: 0;\n        margin: 0;\n        padding: 0;\n        z-index: 10;\n        border: none;\n        background-color: transparent;\n      }\n\n      .pass-icon, .user-icon {\n        display: inline-block;\n        height: 0.88rem;\n        width: 0.74rem;\n        vertical-align: middle;\n        transition: all 0.4s;\n      }\n\n      .user-icon {\n        background: transparent url('./icon-user@2X.png') 50% no-repeat;\n        background-color: transparent;\n        background-size: 0.37rem;\n      }\n\n      .pass-icon {\n        background: transparent url('./icon-pass@2X.png') 50% no-repeat;\n        background-color: transparent;\n        background-size: 0.37rem;\n      }\n\n      .form-control {\n        position: relative;\n        z-index: 2;\n        float: left;\n        width: 100%;\n        margin-bottom: 0;\n      }\n\n      input {\n        padding: 0.2rem 0.12rem 0.2rem 0.74rem;\n        border: 1px solid #a6a6a6;\n        height: 0.88rem;\n        background-color: #fff;\n        border-radius: 0;\n        outline: none;\n      }\n\n      input:focus {\n        border: 1px solid #d8000b;\n        box-shadow: 0 0 4px rgba(216, 0, 16, 0.2);\n      }\n    }\n\n    .input-group.user-input {\n      margin-bottom: 0.4rem;\n    }\n\n    .login-forget {\n      margin-top: 0.1rem;\n      text-align: right;\n      font-size: 0.24rem;\n\n      i {\n        margin-right: 0.06rem;\n      }\n\n      .forget-icon {\n        background: transparent url('./login-help@2X.png') 50% no-repeat;\n        background-color: transparent;\n        background-size: 0.27rem;\n        display: inline-block;\n        height: 0.3rem;\n        width: 0.3rem;\n        vertical-align: middle;\n        transition: all 0.4s;\n      }\n    }\n\n    /* 登录 */\n    .login-submit {\n      margin-top: 0.52rem;\n      width: 100%;\n      height: 0.88rem;\n      font-size: 0.44rem;\n      padding: 0;\n      line-height: 0.88rem;\n      background-color: #d8000b;\n      color: #fff;\n      border-radius: 0;\n      border: none;\n    }\n\n    .btn[disabled] {\n      opacity: 0.65;\n      cursor: not-allowed;\n      box-shadow: none;\n    }\n\n    .btn:hover {\n      background-color: #ed000c;\n      color: #fff;\n    }\n  }\n\n  .login-register {\n    position: absolute;\n    bottom: 1rem;\n    left: 0;\n    right: 0;\n    color: #fff;\n    font-size: 0.24rem;\n\n    a {\n      color: #d8000b;\n    }\n  }\n\n  .login-register:before, .login-register:after {\n    content: '';\n    display: inline-block;\n    vertical-align: middle;\n    width: 1.08rem;\n    height: 1px;\n    background-color: #d5d5d5;\n    margin-right: 0.21rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('header',{staticClass:\"login-header\"},[_c('router-link',{staticClass:\"logo-icon\",attrs:{\"to\":\"/home\",\"tag\":\"div\"}})],1),_vm._v(\" \"),_c('section',{staticClass:\"login-container\"},[_c('form',{staticClass:\"loginform\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"input-group user-input\"},[_vm._m(1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ruleForm.account),expression:\"ruleForm.account\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"邮箱/已验证手机号\"},domProps:{\"value\":(_vm.ruleForm.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.ruleForm, \"account\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-group\"},[_vm._m(2),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ruleForm.passwd),expression:\"ruleForm.passwd\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.ruleForm.passwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.ruleForm, \"passwd\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login-forget\"},[_c('router-link',{attrs:{\"to\":\"\"}},[_c('i',{staticClass:\"forget-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"忘记密码？\")])])],1),_vm._v(\" \"),_c('button',{ref:\"loginSubmit\",staticClass:\"btn btn-submit login-submit\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.loginSubmit}},[(_vm.loadingShow)?_c('span',[_vm._v(\"登  录\")]):_vm._e(),_vm._v(\" \"),(!_vm.loadingShow)?_c('moutai-loading'):_vm._e()],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"login-register\"},[_vm._v(\"\\n    还没有账号？\\n    \"),_c('router-link',{attrs:{\"to\":\"\"}},[_vm._v(\"\\n      立即注册\\n    \")])],1),_vm._v(\" \"),_c('modal',{attrs:{\"modalContent\":_vm.modalContent,\"inStatus\":_vm.inStatus,\"modalzIndex\":_vm.modalzIndex},on:{\"selectConfirmCancel\":_vm.isConfirmCancel}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-code\"},[_c('span',[_c('i',{staticClass:\"code-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"验证码登录\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"input-group-addon\",attrs:{\"for\":\"userIdInput\"}},[_c('i',{staticClass:\"user-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"input-group-addon\",attrs:{\"for\":\"passwordInput\"}},[_c('i',{staticClass:\"pass-icon\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-637c2a74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-637c2a74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-637c2a74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-637c2a74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}