(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b615f63"],{1118:function(t,i,s){},"9f52":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"details"}},[i("div",{staticClass:"page-header"},[i("div",{staticClass:"title"},[i("p",[t._v(t._s(t.productDetails.product_name))]),i("div",{staticClass:"list"},[i("ul",[i("li",[i("router-link",{attrs:{to:""}},[t._v("概述")])],1),i("li",[i("router-link",{attrs:{to:""}},[t._v("参数")])],1),i("li",[i("router-link",{attrs:{to:""}},[t._v("用户评价")])],1)])])])]),i("div",{staticClass:"main"},[i("div",{staticClass:"block"},[t.productPicture.length>1?i("el-carousel",{attrs:{height:"560px"}},t._l(t.productPicture,(function(s){return i("el-carousel-item",{key:s.id},[i("img",{staticStyle:{height:"560px"},attrs:{src:t.$target+s.product_picture,alt:s.intro}})])})),1):t._e(),1==t.productPicture.length?i("div",[i("img",{staticStyle:{height:"560px"},attrs:{src:t.$target+t.productPicture[0].product_picture,alt:t.productPicture[0].intro}})]):t._e()],1),i("div",{staticClass:"content"},[i("h1",{staticClass:"name"},[t._v(t._s(t.productDetails.product_name))]),i("p",{staticClass:"intro"},[t._v(t._s(t.productDetails.product_intro))]),i("p",{staticClass:"store"},[t._v("小米自营")]),i("div",{staticClass:"price"},[i("span",[t._v(t._s(t.productDetails.product_selling_price)+"元")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.product_price!=t.productDetails.product_selling_price,expression:"productDetails.product_price != productDetails.product_selling_price"}],staticClass:"del"},[t._v(t._s(t.productDetails.product_price)+"元")])]),i("div",{staticClass:"pro-list"},[i("span",{staticClass:"pro-name"},[t._v(t._s(t.productDetails.product_name))]),i("span",{staticClass:"pro-price"},[i("span",[t._v(t._s(t.productDetails.product_selling_price)+"元")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.product_price!=t.productDetails.product_selling_price,expression:"productDetails.product_price != productDetails.product_selling_price"}],staticClass:"pro-del"},[t._v(t._s(t.productDetails.product_price)+"元")])]),i("p",{staticClass:"price-sum"},[t._v("总计 : "+t._s(t.productDetails.product_selling_price)+"元")])]),i("div",{staticClass:"button"},[i("el-button",{staticClass:"shop-cart",attrs:{disabled:t.dis},on:{click:t.addShoppingCart}},[t._v("加入购物车")]),i("el-button",{staticClass:"like",on:{click:t.addCollect}},[t._v("喜欢")])],1),t._m(0)])])])},c=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"pro-policy"},[i("ul",[i("li",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" 小米自营 ")]),i("li",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" 小米发货 ")]),i("li",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" 7天无理由退货 ")]),i("li",[i("i",{staticClass:"el-icon-circle-check"}),t._v(" 7天价格保护 ")])])])}],r=s("a6c1"),a=(s("aa21"),s("8a6c")),o={data:function(){return{dis:!1,productID:"",productDetails:"",productPicture:""}},activated:function(){void 0!=this.$route.query.productID&&(this.productID=this.$route.query.productID)},watch:{productID:function(t){this.getDetails(t),this.getDetailsPicture(t)}},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["unshiftShoppingCart","addShoppingCartNum"])),{},{getDetails:function(t){var i=this;this.$axios.post("/api/product/getDetails",{productID:t}).then((function(t){i.productDetails=t.data.Product[0]})).catch((function(t){return Promise.reject(t)}))},getDetailsPicture:function(t){var i=this;this.$axios.post("/api/product/getDetailsPicture",{productID:t}).then((function(t){i.productPicture=t.data.ProductPicture})).catch((function(t){return Promise.reject(t)}))},addShoppingCart:function(){var t=this;this.$store.getters.getUser?this.$axios.post("/api/user/shoppingCart/addShoppingCart",{user_id:this.$store.getters.getUser.user_id,product_id:this.productID}).then((function(i){switch(i.data.code){case"001":t.unshiftShoppingCart(i.data.shoppingCartData[0]),t.notifySucceed(i.data.msg);break;case"002":t.addShoppingCartNum(t.productID),t.notifySucceed(i.data.msg);break;case"003":t.dis=!0,t.notifyError(i.data.msg);break;default:t.notifyError(i.data.msg)}})).catch((function(t){return Promise.reject(t)})):this.$store.dispatch("setShowLogin",!0)},addCollect:function(){var t=this;this.$store.getters.getUser?this.$axios.post("/api/user/collect/addCollect",{user_id:this.$store.getters.getUser.user_id,product_id:this.productID}).then((function(i){"001"==i.data.code?t.notifySucceed(i.data.msg):t.notifyError(i.data.msg)})).catch((function(t){return Promise.reject(t)})):this.$store.dispatch("setShowLogin",!0)}})},u=o,d=(s("b85b"),s("0abc")),p=Object(d["a"])(u,e,c,!1,null,null,null);i["default"]=p.exports},b85b:function(t,i,s){"use strict";s("1118")}}]);
//# sourceMappingURL=chunk-1b615f63.45f7cfc2.js.map